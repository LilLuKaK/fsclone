:root{
  --bg:#f6f7fb; --card:#fff; --border:#e7e9ee;
  --shadow:0 10px 30px rgba(0,0,0,.06);
  --radius:18px;
}

html,body{ background:var(--bg); -webkit-font-smoothing:antialiased; }

/* “Tarjetas” Apple-like para casi todo lo que ya tiene .border + .rounded */
.app-shell .border{
  border-color:var(--border)!important;
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
}

/* Tablas */
.app-shell table{ background:#fff; border-radius:14px; overflow:hidden; }
.app-shell thead{ background:linear-gradient(#fafafa,#f0f1f5); }
.app-shell th,.app-shell td{ border-bottom:1px solid var(--border)!important; }

/* Inputs */
.app-shell input,.app-shell select,.app-shell textarea{
  background:#fff; border:1px solid var(--border);
  border-radius:12px; padding:.6rem .7rem; transition:box-shadow .2s;
}
.app-shell input:focus,.app-shell select:focus,.app-shell textarea:focus{
  outline:none; box-shadow:0 0 0 4px rgba(0,122,255,.15);
}

/* Botones */
.app-shell button{ border-radius:12px; transition:transform .12s ease, box-shadow .2s; }
.app-shell button:hover{ transform:translateY(-1px); box-shadow:0 8px 20px rgba(0,0,0,.08); }
.app-shell .bg-blue{ background:#111!important; }
.app-shell .bg-emerald-600{ border:none; box-shadow:0 10px 20px rgba(16,185,129,.25); }

/* Skeleton loader (shimmer) */
.skeleton{ position:relative; overflow:hidden; background:#eef1f5; border-radius:8px; }
.skeleton::after{
  content:""; position:absolute; inset:0; transform:translateX(-100%);
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.5),transparent);
  animation:shimmer 1.2s infinite;
}
@keyframes shimmer{ 100%{ transform:translateX(100%);} }

/* Splash */
.splash{ animation:fadeOut .6s ease 1.2s forwards; }
.splash-logo{ animation:pop .6s ease-out both; }
@keyframes fadeOut{ to{ opacity:0; visibility:hidden; } }
@keyframes pop{ 0%{opacity:0; transform:scale(.9);} 100%{opacity:1; transform:scale(1);} }

/* ==== Dot Spinner (Uiverse) ==== */
.dot-spinner{--uib-size:2.8rem;--uib-speed:.9s;--uib-color:#183153;position:relative;display:flex;align-items:center;justify-content:flex-start;height:var(--uib-size);width:var(--uib-size)}
.dot-spinner__dot{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:flex-start;height:100%;width:100%}
.dot-spinner__dot::before{content:'';height:20%;width:20%;border-radius:50%;background-color:var(--uib-color);transform:scale(0);opacity:.5;animation:pulse0112 calc(var(--uib-speed) * 1.111) ease-in-out infinite;box-shadow:0 0 20px rgba(18,31,53,.3)}
.dot-spinner__dot:nth-child(2){transform:rotate(45deg)} .dot-spinner__dot:nth-child(2)::before{animation-delay:calc(var(--uib-speed) * -0.875)}
.dot-spinner__dot:nth-child(3){transform:rotate(90deg)} .dot-spinner__dot:nth-child(3)::before{animation-delay:calc(var(--uib-speed) * -0.75)}
.dot-spinner__dot:nth-child(4){transform:rotate(135deg)} .dot-spinner__dot:nth-child(4)::before{animation-delay:calc(var(--uib-speed) * -0.625)}
.dot-spinner__dot:nth-child(5){transform:rotate(180deg)} .dot-spinner__dot:nth-child(5)::before{animation-delay:calc(var(--uib-speed) * -0.5)}
.dot-spinner__dot:nth-child(6){transform:rotate(225deg)} .dot-spinner__dot:nth-child(6)::before{animation-delay:calc(var(--uib-speed) * -0.375)}
.dot-spinner__dot:nth-child(7){transform:rotate(270deg)} .dot-spinner__dot:nth-child(7)::before{animation-delay:calc(var(--uib-speed) * -0.25)}
.dot-spinner__dot:nth-child(8){transform:rotate(315deg)} .dot-spinner__dot:nth-child(8)::before{animation-delay:calc(var(--uib-speed) * -0.125)}
@keyframes pulse0112{0%,100%{transform:scale(0);opacity:.5}50%{transform:scale(1);opacity:1}}

/* Overlay que bloquea toda la pantalla */
.screen-blocker{
  position: fixed;
  inset: 0;
  z-index: 11000;  /* Modal usa 2147483647 */
  background: rgba(255,255,255,.6);
  backdrop-filter: blur(2px);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ===== NAV TABS RESPONSIVE ===== */
.nav-tabs{
  display:flex;
  flex-wrap:wrap;
  gap: .5rem;
  padding: .25rem;
  border: 1px solid #e5e7eb;    /* tailwind border */
  border-radius: .75rem;         /* ~ rounded-xl */
  background: #f8fafc;           /* sutil fondo */
}

/* Cada botón ocupa ~50% en móvil, envuelve en varias filas; en pantallas medias vuelve a tamaño auto */
.btn-tab{
  display:inline-flex; align-items:center; justify-content:center;
  padding: .5rem .75rem;
  border: 1px solid #e5e7eb;
  border-radius: .75rem;
  background:#fff;
  font-weight: 500;
  flex: 1 1 calc(50% - .5rem);   /* dos columnas en móvil */
}
@media (max-width: 360px){
  .btn-tab{ flex-basis: 100%; }  /* 1 por fila en pantallas muy estrechas */
}
@media (min-width: 640px){       /* sm: en adelante, fila única si cabe */
  .btn-tab{ flex: 0 0 auto; }
}

.btn-tab--active{
  background: #111827;
  color:#fff;
  border-color:#111827;
}

/* ===== TABLAS RESPONSIVE (solo en la app, no afecta a PDFs de impresión) ===== */
@media (max-width: 760px){
  .app-shell table th,
  .app-shell table td{
    padding: 10px 8px;           /* +espacio lateral */
    font-size: 14px;             /* un pelín mayor si quieres */
    line-height: 1.4;
  }
  .app-shell table tr{
    /* crece en pantallas estrechas; “exponencial” perceptivo usando clamp con vw */
    height: clamp(44px, 6vw + 28px, 88px); /* tope lógico 88px */
  }
}

/* Si quieres aún más altura en muy estrechos */
@media (max-width: 380px){
  .app-shell table tr{
    height: clamp(56px, 8vw + 36px, 104px);
  }
}